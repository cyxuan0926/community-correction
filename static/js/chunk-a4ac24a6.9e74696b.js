(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4ac24a6","chunk-8d5acc52"],{3804:function(t,e,a){var n=a("b6b5"),r=function(){return n.Date.now()};t.exports=r},"54f0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info__panel"},[a("table",{staticClass:"info__panel__table"},[a("tbody",[a("tr",[a("td",{attrs:{width:"25%"}},[t._v("姓名：")]),a("td",{attrs:{width:"25%"}},[t._v(t._s(t.infoData.realName))]),a("td",{attrs:{width:"25%"}},[t._v("罪名：")]),a("td",{attrs:{width:"25%"}},[t._v(t._s(t.infoData.charge))])]),a("tr",[a("td",[t._v("报到规则：")]),a("td",[t._v("每月"+t._s(t.infoData.reportingDay)+"日")]),a("td",[t._v("接管日期：")]),a("td",[t._v(t._s(t.infoData.handoverTime))])]),a("tr",[a("td",[t._v("应报到日期：")]),a("td",[t._v(t._s(t.infoData.shouldTime))]),a("td",[t._v("所属司法所：")]),a("td",[t._v(t._s(t.infoData.jurisdictionName))])]),a("tr",[a("td",[t._v("历史报到日期：")]),a("td",{attrs:{colspan:"3"}},[a("el-select",{attrs:{placeholder:"请选择历史报到日期"},on:{change:t.handleHistoryReportChange},model:{value:t.selectReportDate,callback:function(e){t.selectReportDate=e},expression:"selectReportDate"}},t._l(t.reportDateList,(function(e){return a("el-option",{key:e,class:{"has-reportError":t.reportDetailedAddress[e].length&&3==t.reportDetailedAddress[e][0].status},attrs:{label:e,value:e}})})),1)],1)]),a("tr",[a("td",[t._v("外出请假情况：")]),a("td",{attrs:{colspan:"3"}},[a("div",{staticClass:"info__panel__scroll",on:{scroll:function(t){t.stopPropagation()}}},[t.reportAddressList.length?t._l(t.reportAddressList,(function(e,n){return a("p",{key:e.id+n},[t._v(t._s(e.address)),n!=t.reportAddressList.length-1?a("span",[t._v("；")]):t._e()])})):[a("p",{staticClass:"info__panel__noresult"},[t._v("暂无外出请假数据")])]],2)])])])])])},r=[],i=(a("b4fb"),a("fe59"),a("b130"),a("90aa"),a("08ba"),{name:"info-panel",props:{infoData:Object},data:function(){return{selectReportDate:"",reportDateList:[],reportDetailedAddress:{},reportAddressList:[]}},watch:{infoData:function(){this.setReportData()}},methods:{setReportData:function(){var t=this;this.reportDateList=[],this.reportDetailedAddress={},this.infoData.historyDates.forEach((function(e){var a=e.reportTime;a&&(t.reportDateList.includes(a)||(t.reportDateList.push(a),t.reportDetailedAddress[a]=[]),e.detailedAddress&&t.reportDetailedAddress[a].push({id:e.id,status:e.status,address:"".concat(e.leaveTime," 去").concat(e.detailedAddress,"，").concat(e.backTime," 返回")}))})),this.selectReportDate=this.reportDateList[0],this.setReportAddressList()},setReportAddressList:function(){this.reportAddressList=this.reportDetailedAddress[this.selectReportDate]},handleHistoryReportChange:function(t){this.selectReportDate=t,this.setReportAddressList()}}}),s=i,o=(a("a2c8"),a("9ca4")),c=Object(o["a"])(s,n,r,!1,null,"f8fc625e",null);e["default"]=c.exports},6973:function(t,e,a){var n=a("82d7"),r=a("7de4"),i=NaN,s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt;function u(t){if("number"==typeof t)return t;if(r(t))return i;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var a=c.test(t);return a||d.test(t)?l(t.slice(2),a?2:8):o.test(t)?i:+t}t.exports=u},"70eb":function(t,e,a){"use strict";var n=a("da8b"),r=a.n(n);r.a},"7de4":function(t,e,a){var n=a("9822"),r=a("4923"),i="[object Symbol]";function s(t){return"symbol"==typeof t||r(t)&&n(t)==i}t.exports=s},a2c8:function(t,e,a){"use strict";var n=a("d48e"),r=a.n(n);r.a},acda:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home__otherstaff"},[a("div",{staticClass:"home__otherstaff__maplayer"},[a("div",{staticClass:"maplayer__header"},[a("div",{staticClass:"maplayer__header__flex"},[a("div",{staticClass:"maplayer__header__flex__form"}),t.$fullscreen.support?a("el-button",{attrs:{type:"primary",icon:"el-icon-full-screen"},on:{click:t.handleToggle}},[t._v("全屏展示")]):t._e(),a("el-button",{attrs:{type:"primary"},on:{click:t.toDetail}},[t._v("报表展示")])],1)]),a("fullscreen",{ref:"fullscreen",on:{change:t.handleFullscreenChange}},[a("div",{staticClass:"maplayer__content",attrs:{id:"homeMap"}})]),a("div",{ref:"mapInfoWin",staticClass:"maplayer__amap__infowin",class:{hideInfoWin:!t.isInfowinOpen}},[a("div",{staticClass:"maplayer__amap__infowin__header"},[a("span",{staticClass:"maplayer__amap__infowin__header__btn-close",on:{click:t.handleInfowinClose}},[a("i",{staticClass:"el-icon-close"})])]),a("div",{staticClass:"maplayer__amap__infowin__content"},[a("info-panel",{attrs:{infoData:t.infoData}}),t._m(0)],1)])],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"maplayer__amap__infowin__caret__wrap"},[a("i",{staticClass:"el-icon-caret-bottom"})])}],i=(a("b4fb"),a("dbb3"),a("2eeb"),a("e18c"),a("6a61"),a("327b")),s=a("6c6d"),o=a("08e7"),c=a("c968"),d=a("54f0"),l=a("edd1"),u=a.n(l),f=a("9f3a"),p=a("147f"),_=a("974e"),m={name:"home-other-justice-staff",components:{InfoPanel:d["default"]},computed:Object(s["a"])(Object(s["a"])({},Object(f["d"])("account",["accountJurisdictionAreaInfo"])),Object(f["c"])("account",["getJusticeCode","isJudiciaryAccount","isJusticeDepartmentAccount","isJusticeBureauAccount","isJudiceOfficeAccount"])),data:function(){return{instance:null,infoData:{historyDates:[]},markList:[],isInfowinOpen:!1,isFullscreen:!1}},methods:{initAMap:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t,n=a.instance=c["b"].getMapInstance(),r=a.getJusticeCode.adCode,e.next=6,Object(p["d"])();case 6:return s=e.sent,o=s.data,e.next=10,n.loadMap({id:"homeMap"});case 10:return e.next=12,n.loadPlugin("DistrictLayer");case 12:o&&o.length&&(a.markList=o.filter((function(t){return t.lng&&t.lat&&t.username})).map((function(t){return{props:{mkId:t.id,mkUsername:t.username},offset:n.getOffset(-9.5,-32),content:'<img width="19px" height="32px" src="'.concat(_["a"].webHost,"/static/img/mark_bs0").concat(t.status,'.png">'),position:[t.lng,t.lat]}}))),n.addDistrictLayerWorld().addDistrictLayerCountry().addInfoWindow({content:a.$refs.mapInfoWin,offset:n.getOffset(-2,-21),isCustom:!0,closeWhenClickMap:!0}).addMarks(a.markList).bindMarkEvent("click",function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,i,s,o,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.target,i=r.mkId,s=r.mkUsername,o=[e.lnglat.lng,e.lnglat.lat],t.next=4,Object(p["a"])({id:i});case 4:if(c=t.sent,d=c.data,!d){t.next=17;break}return t.next=9,Object(p["c"])({username:s});case 9:if(t.t0=t.sent.data,t.t0){t.next=12;break}t.t0=[];case 12:d.historyDates=t.t0,n.currentZoom>=n.maxZoom?n.map.setCenter(o,!1,300):n.map.setZoomAndCenter(n.maxZoom,o,!1,400),n.infoWindow.open(n.map,o),a.isInfowinOpen=!0,a.infoData=d;case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).bindMapEvent("zoomchange",u()((function(){(n.currentZoom=n.map.getZoom())>n.maxZoom?n.hideDistrictLayer():n.showDistrictLayer()}),300)),!a.isJudiciaryAccount&&r&&n.addDistrictLayerProvince({adcode:[r]}),n.setCity(r),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](0),Promise.reject(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))()},handleInfowinClose:function(){this.instance.infoWindow.close()},toDetail:function(){this.$router.push(o["a"].REPORT_DETAIL_LIST)},handleFullscreenChange:function(t){this.isFullscreen=t},handleToggle:function(){this.$refs["fullscreen"].toggle()}},mounted:function(){this.initAMap()}},h=m,v=(a("70eb"),a("9ca4")),b=Object(v["a"])(h,n,r,!1,null,"0a8787fe",null);e["default"]=b.exports},d48e:function(t,e,a){},da8b:function(t,e,a){},edd1:function(t,e,a){var n=a("82d7"),r=a("3804"),i=a("6973"),s="Expected a function",o=Math.max,c=Math.min;function d(t,e,a){var d,l,u,f,p,_,m=0,h=!1,v=!1,b=!0;if("function"!=typeof t)throw new TypeError(s);function D(e){var a=d,n=l;return d=l=void 0,m=e,f=t.apply(n,a),f}function g(t){return m=t,p=setTimeout(C,e),h?D(t):f}function y(t){var a=t-_,n=t-m,r=e-a;return v?c(r,u-n):r}function w(t){var a=t-_,n=t-m;return void 0===_||a>=e||a<0||v&&n>=u}function C(){var t=r();if(w(t))return x(t);p=setTimeout(C,y(t))}function x(t){return p=void 0,b&&d?D(t):(d=l=void 0,f)}function k(){void 0!==p&&clearTimeout(p),m=0,d=_=l=p=void 0}function A(){return void 0===p?f:x(r())}function L(){var t=r(),a=w(t);if(d=arguments,l=this,_=t,a){if(void 0===p)return g(_);if(v)return clearTimeout(p),p=setTimeout(C,e),D(_)}return void 0===p&&(p=setTimeout(C,e)),f}return e=i(e)||0,n(a)&&(h=!!a.leading,v="maxWait"in a,u=v?o(i(a.maxWait)||0,e):u,b="trailing"in a?!!a.trailing:b),L.cancel=k,L.flush=A,L}t.exports=d}}]);