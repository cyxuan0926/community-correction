(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e417067c"],{"3a20":function(e,r,t){},4484:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"correction-information"},[e._m(0),t("div",{staticClass:"correction-information-form form-information__common"},[t("el-form",{ref:"formBasic",staticClass:"form-basic form",attrs:{model:e.formBasicModel,inline:"","label-width":"120px","label-position":"right",rules:e.formBasicRules}},[t("el-form-item",{staticClass:"el-form-item__none-top",attrs:{label:"矫正人员姓名",prop:"realName",rules:{required:!0}}},[t("el-input",{attrs:{disabled:"",placeholder:"请填写矫正人员姓名"},model:{value:e.formBasicModel.realName,callback:function(r){e.$set(e.formBasicModel,"realName","string"===typeof r?r.trim():r)},expression:"formBasicModel.realName"}})],1),t("el-form-item",{staticClass:"el-form-item__none-top",attrs:{label:"性别",prop:"sex",rules:{required:!0}}},[t("el-input",{attrs:{disabled:"",placeholder:"请填写性别"},model:{value:e.formBasicModel.sex,callback:function(r){e.$set(e.formBasicModel,"sex","string"===typeof r?r.trim():r)},expression:"formBasicModel.sex"}})],1),t("el-form-item",{attrs:{label:"出生日期",prop:"birthday",rules:{required:!0}}},[t("el-date-picker",{attrs:{placeholder:"请选择出生日期","value-format":"yyyyMMdd",disabled:""},model:{value:e.formBasicModel.birthday,callback:function(r){e.$set(e.formBasicModel,"birthday","string"===typeof r?r.trim():r)},expression:"formBasicModel.birthday"}})],1),t("el-form-item",{attrs:{label:"身份证号",prop:"uuid",rules:{required:!0}}},[t("el-input",{attrs:{disabled:"",placeholder:"请填写身份证号"},model:{value:e.formBasicModel.uuid,callback:function(r){e.$set(e.formBasicModel,"uuid","string"===typeof r?r.trim():r)},expression:"formBasicModel.uuid"}})],1),t("el-form-item",{staticClass:"form-item-reportDay",attrs:{label:"报到日",prop:"reportingDay"}},[t("el-input",{attrs:{placeholder:"请填写报到日",clearable:"",disabled:!!+e.formBasicModel.edited},model:{value:e.formBasicModel.reportingDay,callback:function(r){e.$set(e.formBasicModel,"reportingDay",e._n(r))},expression:"formBasicModel.reportingDay"}})],1),t("el-form-item",{attrs:{label:"电话号码",prop:"phone",rules:{required:!0}}},[t("el-input",{attrs:{disabled:"",placeholder:"请填写电话号码"},model:{value:e.formBasicModel.phone,callback:function(r){e.$set(e.formBasicModel,"phone","string"===typeof r?r.trim():r)},expression:"formBasicModel.phone"}})],1),t("el-form-item",{staticClass:"form-item_livingPlace",attrs:{label:"报到周期",prop:"reportingCycle",rules:{required:!0,message:"请选择报到周期"}}},[t("el-select",{attrs:{disabled:"",placeholder:"请选择报到周期"},model:{value:e.formBasicModel.reportingCycle,callback:function(r){e.$set(e.formBasicModel,"reportingCycle",r)},expression:"formBasicModel.reportingCycle"}},e._l(e.reportCycleOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"接管日期",prop:"handoverTime",rules:{required:!0}}},[t("el-date-picker",{attrs:{type:"date",disabled:"",placeholder:"请选择接管日期","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.formBasicModel.handoverTime,callback:function(r){e.$set(e.formBasicModel,"handoverTime",r)},expression:"formBasicModel.handoverTime"}})],1),t("el-form-item",{staticClass:"form-item_fullwidth",attrs:{label:"居住地",prop:"livingPlace",rules:{required:!0}}},[t("el-input",{attrs:{disabled:"",placeholder:"请填写居住地"},model:{value:e.formBasicModel.livingPlace,callback:function(r){e.$set(e.formBasicModel,"livingPlace","string"===typeof r?r.trim():r)},expression:"formBasicModel.livingPlace"}})],1),t("el-form-item",{staticClass:"form-item_fullwidth form-item_dateRange",attrs:{label:"原判刑期起止日",prop:"originalSentenceDate"}},[t("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"开始日期",clearable:"","picker-options":e.originalSentenceStartDatePickOptions},model:{value:e.formBasicModel.originalSentenceStart,callback:function(r){e.$set(e.formBasicModel,"originalSentenceStart",r)},expression:"formBasicModel.originalSentenceStart"}}),t("span",[e._v("-")]),t("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"结束日期",clearable:"","picker-options":e.originalSentenceEndDatePickOptions},model:{value:e.formBasicModel.originalSentenceEnd,callback:function(r){e.$set(e.formBasicModel,"originalSentenceEnd",r)},expression:"formBasicModel.originalSentenceEnd"}})],1),t("el-form-item",{staticClass:"form-item_fullwidth",attrs:{label:"罪名",prop:"charge"}},[t("el-input",{attrs:{type:"text","show-word-limit":"",maxlength:"50",placeholder:"请填写罪名",clearable:""},model:{value:e.formBasicModel.charge,callback:function(r){e.$set(e.formBasicModel,"charge","string"===typeof r?r.trim():r)},expression:"formBasicModel.charge"}})],1),t("el-form-item",{staticClass:"form-item_fullwidth form-item_dateRange is-required",attrs:{label:"矫正期限起止日",prop:"correctDeadlineDate"}},[[t("el-date-picker",{class:[e.onCorrectDeadlineDateBlur(e.formBasicModel.correctDeadlineStart)||""===e.formBasicModel.correctDeadlineStart?"":"is-error"],attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"开始日期",clearable:"","picker-options":e.correctDeadlineStartDatePickOptions},on:{blur:function(r){return e.onCorrectDeadlineDateBlur(e.formBasicModel.correctDeadlineStart)}},model:{value:e.formBasicModel.correctDeadlineStart,callback:function(r){e.$set(e.formBasicModel,"correctDeadlineStart",r)},expression:"formBasicModel.correctDeadlineStart"}}),e.onCorrectDeadlineDateBlur(e.formBasicModel.correctDeadlineStart)||""===e.formBasicModel.correctDeadlineStart?e._e():t("div",{staticClass:"el-form-item__error form-item-correctDeadlineStart_error"},[e._v(" 请选择矫正期限开始日期 ")])],t("span",[e._v("-")]),[t("el-date-picker",{class:[e.onCorrectDeadlineDateBlur(e.formBasicModel.correctDeadlineEnd)||""===e.formBasicModel.correctDeadlineEnd?"":"is-error"],attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"结束日期",clearable:"","picker-options":e.correctDeadlineEndDatePickOptions},on:{blur:function(r){return e.onCorrectDeadlineDateBlur(e.formBasicModel.correctDeadlineEnd)}},model:{value:e.formBasicModel.correctDeadlineEnd,callback:function(r){e.$set(e.formBasicModel,"correctDeadlineEnd",r)},expression:"formBasicModel.correctDeadlineEnd"}}),e.onCorrectDeadlineDateBlur(e.formBasicModel.correctDeadlineEnd)||""===e.formBasicModel.correctDeadlineEnd?e._e():t("div",{staticClass:"el-form-item__error form-item-correctDeadlineEnd_error"},[e._v(" 请选择矫正期限结束日期 ")])]],2)],1),t("base-img-viewer",{staticClass:"form-img",attrs:{title:e.faceImg.title,url:e.faceImg.url}}),t("el-form",{staticClass:"form-supervision form",attrs:{model:e.formSupervisionModel,inline:"","label-width":"120px","label-position":"right"}},[t("el-form-item",{staticClass:"form-item__left",attrs:{label:"原判刑期",prop:"originalSentence"}},[t("el-input",{attrs:{"show-word-limit":"",maxlength:"50",placeholder:"请填写原判刑期",clearable:""},model:{value:e.formSupervisionModel.originalSentence,callback:function(r){e.$set(e.formSupervisionModel,"originalSentence","string"===typeof r?r.trim():r)},expression:"formSupervisionModel.originalSentence"}})],1),t("el-form-item",{staticClass:"form-item__right supplementaryPenalty none__right-border",attrs:{label:"附加刑",prop:"supplementaryPenalty"}},[t("el-select",{attrs:{placeholder:"请选择附加刑",clearable:""},model:{value:e.formSupervisionModel.supplementaryPenalty,callback:function(r){e.$set(e.formSupervisionModel,"supplementaryPenalty",r)},expression:"formSupervisionModel.supplementaryPenalty"}},e._l(e.supplementaryPenaltyOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{staticClass:"form-item__left",attrs:{label:"矫正期限",prop:"correctDeadline"}},[t("el-input",{attrs:{placeholder:"请填写矫正期限","show-word-limit":"",maxlength:"50",clearable:""},model:{value:e.formSupervisionModel.correctDeadline,callback:function(r){e.$set(e.formSupervisionModel,"correctDeadline","string"===typeof r?r.trim():r)},expression:"formSupervisionModel.correctDeadline"}})],1),t("el-form-item",{staticClass:"form-item__right none__right-border",attrs:{label:"判处类型",prop:"sentenceType"}},[t("el-select",{attrs:{placeholder:"请选择判处类型",clearable:""},model:{value:e.formSupervisionModel.sentenceType,callback:function(r){e.$set(e.formSupervisionModel,"sentenceType",r)},expression:"formSupervisionModel.sentenceType"}},e._l(e.sentenceTypeOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{staticClass:"form-item__left",attrs:{label:"户籍地址",prop:"address",rules:{required:!0}}},[t("el-input",{attrs:{disabled:"",placeholder:"请填写户籍地址"},model:{value:e.formSupervisionModel.address,callback:function(r){e.$set(e.formSupervisionModel,"address","string"===typeof r?r.trim():r)},expression:"formSupervisionModel.address"}})],1),t("el-form-item",{staticClass:"form-item__right none__right-border",attrs:{label:"报到期",prop:"reportingPeriod",rules:{required:!0,message:"请选择报到期"}}},[t("el-select",{attrs:{placeholder:"请选择报到期",disabled:!!+e.formSupervisionModel.edited},model:{value:e.formSupervisionModel.reportingPeriod,callback:function(r){e.$set(e.formSupervisionModel,"reportingPeriod",r)},expression:"formSupervisionModel.reportingPeriod"}},e._l(e.reportDurationOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{staticClass:"form-item__left",attrs:{label:"判决机关",prop:"judgmentOrgan"}},[t("el-input",{attrs:{type:"text","show-word-limit":"",maxlength:"50",placeholder:"请填写判决机关",clearable:""},model:{value:e.formSupervisionModel.judgmentOrgan,callback:function(r){e.$set(e.formSupervisionModel,"judgmentOrgan","string"===typeof r?r.trim():r)},expression:"formSupervisionModel.judgmentOrgan"}})],1),t("el-form-item",{staticClass:"form-item__right none__right-border",attrs:{label:"判决日期",prop:"judgmentDate"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"请选择判决日期","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.formSupervisionModel.judgmentDate,callback:function(r){e.$set(e.formSupervisionModel,"judgmentDate",r)},expression:"formSupervisionModel.judgmentDate"}})],1),t("el-form-item",{staticClass:"form-item_idCard is-required none__right-border",attrs:{label:"身份证信息"}},[e._l(e.uuidImgLists,(function(e){return t("base-img-viewer",{key:e.fileUuid,attrs:{title:e.title,url:e.url}})}))],2),t("el-form-item",{staticClass:"form-item_location none__right-border",attrs:{label:"报到地点",prop:"effectiveRange",rules:{required:!0,message:"请选择有效范围"}}},[e._l(e.formSupervisionModel.addressList,(function(r,o){return[t("span",{key:r.id,staticClass:"addressDetail"},[e._v(e._s(r.addressDetail)+" "),t("a",{on:{click:function(r){return r.preventDefault(),e.onMapShow(e.formSupervisionModel.addressList[o])}}},[e._v("点击查看")])])]})),t("label",{staticClass:"label-radius"},[e._v("有效范围")]),t("el-select",{attrs:{placeholder:"请选择有效范围"},model:{value:e.formSupervisionModel.effectiveRange,callback:function(r){e.$set(e.formSupervisionModel,"effectiveRange",r)},expression:"formSupervisionModel.effectiveRange"}},e._l(e.radiusOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],2)],1)],1),t("div",{staticClass:"correction-information-button information-button__common"},[t("el-button",{attrs:{loading:e.saveLoading,type:"primary"},on:{click:e.onSave}},[e._v("保存")]),t("el-button",{attrs:{disabled:e.saveLoading,type:"primary"},on:{click:e.onGoBack}},[e._v("返回")])],1),t("base-map-viewer",{attrs:{visible:e.visible,radius:e.formSupervisionModel.effectiveRange,"on-map-close":e.onMapClose,"map-configs":e.mapConfigs}})],1)},a=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("p",{staticClass:"correction-information-title title-information__common"},[t("strong",[e._v("基本信息")])])}],i=(t("dbb3"),t("6a61"),t("327b")),l=t("6c6d"),n=t("c00d"),s=t("9f3a"),c=new Date((new Date).getFullYear(),(new Date).getMonth()+1,0).getDate(),d={name:"correctionStaffInformation",props:["userName"],data:function(){var e=this,r=function(e,r,t){var o=e.max;""===r?t(new Error("请填写报到日")):isNaN(r)||r<1||r>o?t(new Error("请填写1-".concat(o,"之间的正整数"))):t()};return{saveLoading:!1,reportDurationOptions:n["f"],sentenceTypeOptions:n["g"],reportCycleOptions:n["e"],supplementaryPenaltyOptions:n["h"],radiusOptions:n["b"],formBasicModel:{realName:"",sex:"",birthday:"",uuid:"",phone:"",livingPlace:"",handoverTime:"",reportingCycle:"月报到",reportingDay:"",correctDeadlineStart:"",correctDeadlineEnd:"",originalSentenceStart:"",charge:"",originalSentenceEnd:""},formBasicRules:{reportingDay:[{validator:r,max:c},{required:!0}],charge:[{required:!0,message:"请填写罪名"}]},formSupervisionModel:{effectiveRange:300,originalSentence:"",sentenceType:"",address:"",judgmentOrgan:"",reportingPeriod:5,correctDeadline:"",judgmentDate:"",supplementaryPenalty:""},visible:!1,currentMonthDays:c,mapConfigs:{},faceImg:{},uuidImgLists:[],correctDeadlineStartDatePickOptions:{disabledDate:function(r){return e.formBasicModel.correctDeadlineEnd&&new Date(e.formBasicModel.correctDeadlineEnd)<r.getTime()}},correctDeadlineEndDatePickOptions:{disabledDate:function(r){return e.formBasicModel.correctDeadlineStart&&new Date(e.formBasicModel.correctDeadlineStart)>r.getTime()}},originalSentenceStartDatePickOptions:{disabledDate:function(r){return e.formBasicModel.originalSentenceEnd&&new Date(e.formBasicModel.originalSentenceEnd)<r.getTime()}},originalSentenceEndDatePickOptions:{disabledDate:function(r){return e.formBasicModel.originalSentenceStart&&new Date(e.formBasicModel.originalSentenceStart)>r.getTime()}}}},computed:Object(l["a"])({},Object(s["d"])("correctionStaff",["correctionalDetail","correctionalDetailfileLists","correctionalDetailResult"])),methods:Object(l["a"])(Object(l["a"])({},Object(s["b"])("correctionStaff",["getCorrectionalDetail","saveCorrectionalInformation"])),{},{gettingData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.$showLoading(),r.next=3,e.getCorrectionalDetail({userName:e.userName});case 3:e.uuidImgLists=e.correctionalDetailfileLists.filter((function(r){return"3"===r.type&&(e.faceImg=r),"3"!==r.type})),t=Object.assign({},e.correctionalDetail),e.formBasicModel=t,e.formSupervisionModel=t;case 7:case"end":return r.stop()}}),r)})))()},onCorrectDeadlineDateBlur:function(e){return!!e},onMapShow:function(e){var r=e.lng,t=e.lat;this.mapConfigs={mapClass:{center:[r,t]},circleConfigs:{center:[r,t]},markerConfigs:{position:[r,t]}},this.visible=!0},onMapClose:function(){this.visible=!1},onGoBack:function(){this.$router.back()},onSave:function(){var e=this;this.saveLoading=!0;var r=this.onCorrectDeadlineDateBlur(this.formBasicModel.correctDeadlineStart),t=this.onCorrectDeadlineDateBlur(this.formBasicModel.correctDeadlineEnd);this.$set(this.formBasicModel,"correctDeadlineStart",this.formBasicModel.correctDeadlineStart||null),this.$set(this.formBasicModel,"correctDeadlineEnd",this.formBasicModel.correctDeadlineEnd||null),this.$refs.formBasic.validate(function(){var o=Object(i["a"])(regeneratorRuntime.mark((function o(a){var i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!(a&&t&&r)){o.next=8;break}return e.$showLoading(),i="".concat(e.formBasicModel["handoverTime"]," 00:00:00"),e.$set(e.formBasicModel,"reporting",null),e.$set(e.formBasicModel,"handoverTime",i),o.next=7,e.saveCorrectionalInformation(e.formBasicModel);case 7:e.correctionalDetailResult&&e.$router.push({path:"/correction-staff/list"});case 8:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()),this.saveLoading=!1}}),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.gettingData();case 2:case"end":return r.stop()}}),r)})))()}},m=d,f=(t("e804"),t("9ca4")),u=Object(f["a"])(m,o,a,!1,null,"16158026",null);r["default"]=u.exports},e804:function(e,r,t){"use strict";var o=t("3a20"),a=t.n(o);a.a}}]);